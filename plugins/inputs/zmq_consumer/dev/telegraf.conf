# ZeroMQ
[[inputs.zmq_consumer]]
  ## ZeroMQ PUB/SUB connection type (either bind or connect, defaults to bind)
  # method = bind

  ## ZeroMQ publisher endpoint urls.
  endpoints = ["tcp://localhost:6001", "tcp://localhost:6002"]

  ## Subscription filters. If not specified the plugin  will subscribe 
  ## to all incoming  messages.
  subscriptions = ["metricX"]

  ## High water mark for inbound messages. Sets the ZMQ_RCVHWM option 
  ## on the specified socket. 
  ## The default value is 1000.
  ## See: http://api.zeromq.org/4-1:zmq-setsockopt#toc28
  high_water_mark = 1000

  ## I/O thread affinity
  ## Affinity determines which threads from the ØMQ I/O thread pool 
  ## associated with the socket's context shall handle newly created 
  ## connections. A value of zero specifies no affinity, meaning that 
  ## work shall be distributed fairly among all ØMQ I/O threads in the 
  ## thread pool. For non-zero values, the lowest bit corresponds to 
  ## thread 1, second lowest bit to thread 2 and so on.
  ## The default value is 0.
  ## See: http://api.zeromq.org/4-1:zmq-setsockopt#toc3
  affinity = 0
  
  ## Kernel receive buffer size
  ## Sets the underlying kernel receive buffer size for the socket to the 
  ## specified size in bytes. A value of zero means leave the OS default
  ## unchanged.
  ## The default value is 0.
  ## See: http://api.zeromq.org/4-1:zmq-setsockopt#toc27
  # receive_buffer_size = 0

  ## Overrides SO_KEEPALIVE socket option (where supported by OS). 
  ## The default value of -1 means to skip any overrides and leave it to 
  ## OS default.
  ## See: http://api.zeromq.org/master:zmq-setsockopt#toc57
  # tcp_keepalive = -1

  ## Overrides TCP_KEEPIDLE (or TCP_KEEPALIVE on some OS) socket option 
  ## (where supported by OS). 
  ## The default value of -1 means to skip any overrides and leave it to 
  ## OS default.
  ## See: http://api.zeromq.org/master:zmq-setsockopt#toc59
  # tcp_keepalive_idle = -1

  ## Overrides TCP_KEEPINTVL socket option (where supported by OS). 
  ## The default value of -1 means to skip any overrides and leave it to 
  ## OS default.
  ## See: http://api.zeromq.org/master:zmq-setsockopt#toc60
  # tcp_keepalive_interval = -1

  ## Maximum messages to read from the broker that have not been written by an
  ## output. For best throughput set based on the number of metrics within
  ## each message and the size of the output's metric_batch_size.
  ##
  ## For example, if each message from the queue contains 10 metrics and the
  ## output metric_batch_size is 1000, setting this to 100 will ensure that a
  ## full batch is collected and the write is triggered immediately without
  ## waiting until the next flush_interval.
  max_undelivered_messages = 1000

  ## Data format to consume.
  ## Each data format has its own unique set of configuration options, read
  ## more about them here:
  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md
  data_format = "influx"


[[outputs.file]]
  files = ["stdout"]
  data_format = "influx"